# Template file for 'gpredict'
pkgname=gpredict
version=2.2.1
revision=2
build_style=gnu-configure
hostmakedepends="pkg-config intltool"
makedepends="libcurl-devel glib-devel gtk+3-devel goocanvas-devel"
short_desc="Real-time satellite tracking and orbit prediction application"
maintainer="bra1nwave <brainwave@openmailbox.org>"
license="GPL-2.0-or-later"
homepage="http://gpredict.oz9aec.net/"
distfiles="https://github.com/csete/gpredict/releases/download/v${version}/${pkgname}-${version}.tar.bz2"
checksum=e759c4bae0b17b202a7c0f8281ff016f819b502780d3e77b46fe8767e7498e43
# Check needs to be skipped for a gtk-sat-tree.c related error which is not important for local use.
# Details: https://github.com/void-linux/void-packages/pull/31159#issuecomment-850569764
make_check=no

CFLAGS="-fcommon"

pre_configure() {
	# For adapting to goocanvas 3.0
	vsed -i "s/goocanvas-2.0/goocanvas-3.0/" configure
}
